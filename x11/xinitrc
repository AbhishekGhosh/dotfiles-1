#! /bin/sh

# D-Bus
if which dbus-launch > /dev/null && test -z "$DBUS_SESSION_BUS_ADDRESS"; then
    eval "$(dbus-launch --sh-syntax  --exit-with-session)"
fi

# Start a urxvt daemon
# With urxvt client launched from xmonad, attach to it
/usr/bin/urxvtd -q -f -o &

# Set some basic xorg settings
xcompmgr &
xsetroot -cursor_name left_ptr
setxkbmap -layout us -variant colemak
setxkbmap -option "" -layout "us(colemak),us,us(dvorak)" -option grp:alt_space_toggle

# Load Solarized Xresources
[[ -f ~/.Xresources ]] && xrdb -merge ~/.Xresources &

# Start several background programs
sh ~/.fehbg &
xmodmap ~/.Xmodmap &
{ sleep 2; /usr/bin/dropboxd; } &
#{ sleep 2; /usr/bin/skype; } &

#{ sleep 10; /usr/bin/droidcam; } &
#{ sleep 2; /usr/bin/pavucontrol; } &
#{ sleep 10; /usr/bin/pasystray; } &
#{ sleep 10; /usr/bin/specto; } &
#{ sleep 2; /usr/bin/clipit; } &
#{ sleep 2; /usr/bin/remmina; } &
#{ sleep 10; /usr/bin/pidgin; } &
#{ sleep 10; /usr/bin/googsystray; } &
#{ sleep 2; /usr/bin/krusader; } &
#{ sleep 10; /usr/bin/weechat-curses; } &

# Window manager should always be the last thing run
exec xmonad
